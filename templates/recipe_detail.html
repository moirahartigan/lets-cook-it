{% extends "base.html" %}
{% load static %}
{% block content %}

<h1>Full Recipe</h1>
<div class="container">
  <div class="masthead">
    <div class="container">
      <div class="row g-0">
        <div class="col-md-6 masthead-text">
          <!-- Recipe title goes in these h1 tags -->
          <h1 class="recipe-title">{{ recipe.title }}</h1>
          <!-- Recipe stats -->
          <div>
            <span class="value">Prep time: {{ recipe.prep_time }}</span>
            <span class="title">Mins</span>
        </div>
        <div>
          <span class="value">Cook time: {{ recipe.cook_time }}</span>
          <span class="title">Mins</span>
      </div>
        <div>
            <span class="title">Serves</span>
            <span class="value">{{ recipe.servings }}</span>
        </div>
          <!-- Recipe author goes before the | the recipe's created date goes after -->
          <p class="recipe-subtitle">{{ recipe.author }} | {{ recipe.created_on }}</p>
        </div>
        <div class="d-none d-md-block col-md-6 masthead-image">
          <!-- The featured image URL goes in the src attribute --> 
          {% if "placeholder" in recipe.image_url.url %}
          <img src="/static/css/images/burger-img.jpg" width="100%">
          {% else %} <img src=" {{ recipe.image_url.url }}" width="100%"> 
          {% endif %}
        </div>
      </div>
    </div>
  </div>
</div>
<div class="container">
  <div class="row">
    <div class="col card mb-4  mt-3 left  top">
      <div class="card-body">
        <!-- The recipe ingredients goes inside the card-text. -->
        <!-- Use the | safe filter inside the template tags -->
        <p class="card-text ">
        <h1>Ingredients:</h1>
        {{ recipe.ingredients | safe }}
        </p>
      </div>
      <div class="col card mb-4  mt-3 left  top">
        <div class="card-body">
          <!-- The recipe method goes inside the card-text. -->
          <!-- Use the | safe filter inside the template tags -->
          <p class="card-text ">
          <h1>Method:</h1>
          {{ recipe.method | safe }}
          </p>
          <div class="row">

            <div class="col-1">
              <strong>
                {% if user.is_authenticated %}
                <form class="d-inline" action="{% url 'recipe_like' recipe.slug %}" method="POST">
                  {% csrf_token %}
                  {% if liked %}
                  <button type="submit" name="recipe_id" value="{{recipe.slug}}" class="btn-like"><i class="fas fa-heart"></i></button>
                  {% else %} 
                  <button type="submit" name="recipe_id" value="{{recipe.slug}}" class="btn-like"><i class="far fa-heart"></i></button>
                  {% endif %}
                </form>
                {% else %}
                <span class="text-secondary"> <i class="far fa-heart"></i></span>
                {% endif %}
                <span class="text-secondary"> {{ recipe.number_of_likes }}</span>
              </strong>
                
            </div>
         
        </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col">
        <hr>
      </div>
    </div>
  </div>
  {% endblock %}